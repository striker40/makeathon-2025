{"ast":null,"code":"/**\r\n * @import {Element, Nodes, Parents, Root} from 'hast'\r\n * @import {Root as MdastRoot} from 'mdast'\r\n * @import {ComponentType, JSX, ReactElement, ReactNode} from 'react'\r\n * @import {Options as RemarkRehypeOptions} from 'remark-rehype'\r\n * @import {BuildVisitor} from 'unist-util-visit'\r\n * @import {PluggableList, Processor} from 'unified'\r\n */\n\n/**\r\n * @callback AllowElement\r\n *   Filter elements.\r\n * @param {Readonly<Element>} element\r\n *   Element to check.\r\n * @param {number} index\r\n *   Index of `element` in `parent`.\r\n * @param {Readonly<Parents> | undefined} parent\r\n *   Parent of `element`.\r\n * @returns {boolean | null | undefined}\r\n *   Whether to allow `element` (default: `false`).\r\n */\n\n/**\r\n * @typedef ExtraProps\r\n *   Extra fields we pass.\r\n * @property {Element | undefined} [node]\r\n *   passed when `passNode` is on.\r\n */\n\n/**\r\n * @typedef {{\r\n *   [Key in keyof JSX.IntrinsicElements]?: ComponentType<JSX.IntrinsicElements[Key] & ExtraProps> | keyof JSX.IntrinsicElements\r\n * }} Components\r\n *   Map tag names to components.\r\n */\n\n/**\r\n * @typedef Deprecation\r\n *   Deprecation.\r\n * @property {string} from\r\n *   Old field.\r\n * @property {string} id\r\n *   ID in readme.\r\n * @property {keyof Options} [to]\r\n *   New field.\r\n */\n\n/**\r\n * @typedef Options\r\n *   Configuration.\r\n * @property {AllowElement | null | undefined} [allowElement]\r\n *   Filter elements (optional);\r\n *   `allowedElements` / `disallowedElements` is used first.\r\n * @property {ReadonlyArray<string> | null | undefined} [allowedElements]\r\n *   Tag names to allow (default: all tag names);\r\n *   cannot combine w/ `disallowedElements`.\r\n * @property {string | null | undefined} [children]\r\n *   Markdown.\r\n * @property {Components | null | undefined} [components]\r\n *   Map tag names to components.\r\n * @property {ReadonlyArray<string> | null | undefined} [disallowedElements]\r\n *   Tag names to disallow (default: `[]`);\r\n *   cannot combine w/ `allowedElements`.\r\n * @property {PluggableList | null | undefined} [rehypePlugins]\r\n *   List of rehype plugins to use.\r\n * @property {PluggableList | null | undefined} [remarkPlugins]\r\n *   List of remark plugins to use.\r\n * @property {Readonly<RemarkRehypeOptions> | null | undefined} [remarkRehypeOptions]\r\n *   Options to pass through to `remark-rehype`.\r\n * @property {boolean | null | undefined} [skipHtml=false]\r\n *   Ignore HTML in markdown completely (default: `false`).\r\n * @property {boolean | null | undefined} [unwrapDisallowed=false]\r\n *   Extract (unwrap) what’s in disallowed elements (default: `false`);\r\n *   normally when say `strong` is not allowed, it and it’s children are dropped,\r\n *   with `unwrapDisallowed` the element itself is replaced by its children.\r\n * @property {UrlTransform | null | undefined} [urlTransform]\r\n *   Change URLs (default: `defaultUrlTransform`)\r\n */\n\n/**\r\n * @typedef HooksOptionsOnly\r\n *   Configuration specifically for {@linkcode MarkdownHooks}.\r\n * @property {ReactNode | null | undefined} [fallback]\r\n *   Content to render while the processor processing the markdown (optional).\r\n */\n\n/**\r\n * @typedef {Options & HooksOptionsOnly} HooksOptions\r\n *   Configuration for {@linkcode MarkdownHooks};\r\n *   extends the regular {@linkcode Options} with a `fallback` prop.\r\n */\n\n/**\r\n * @callback UrlTransform\r\n *   Transform all URLs.\r\n * @param {string} url\r\n *   URL.\r\n * @param {string} key\r\n *   Property name (example: `'href'`).\r\n * @param {Readonly<Element>} node\r\n *   Node.\r\n * @returns {string | null | undefined}\r\n *   Transformed URL (optional).\r\n */\n\nimport { unreachable } from 'devlop';\nimport { toJsxRuntime } from 'hast-util-to-jsx-runtime';\nimport { urlAttributes } from 'html-url-attributes';\nimport { Fragment, jsx, jsxs } from 'react/jsx-runtime';\nimport { useEffect, useState } from 'react';\nimport remarkParse from 'remark-parse';\nimport remarkRehype from 'remark-rehype';\nimport { unified } from 'unified';\nimport { visit } from 'unist-util-visit';\nimport { VFile } from 'vfile';\nconst changelog = 'https://github.com/remarkjs/react-markdown/blob/main/changelog.md';\n\n/** @type {PluggableList} */\nconst emptyPlugins = [];\n/** @type {Readonly<RemarkRehypeOptions>} */\nconst emptyRemarkRehypeOptions = {\n  allowDangerousHtml: true\n};\nconst safeProtocol = /^(https?|ircs?|mailto|xmpp)$/i;\n\n// Mutable because we `delete` any time it’s used and a message is sent.\n/** @type {ReadonlyArray<Readonly<Deprecation>>} */\nconst deprecations = [{\n  from: 'astPlugins',\n  id: 'remove-buggy-html-in-markdown-parser'\n}, {\n  from: 'allowDangerousHtml',\n  id: 'remove-buggy-html-in-markdown-parser'\n}, {\n  from: 'allowNode',\n  id: 'replace-allownode-allowedtypes-and-disallowedtypes',\n  to: 'allowElement'\n}, {\n  from: 'allowedTypes',\n  id: 'replace-allownode-allowedtypes-and-disallowedtypes',\n  to: 'allowedElements'\n}, {\n  from: 'className',\n  id: 'remove-classname'\n}, {\n  from: 'disallowedTypes',\n  id: 'replace-allownode-allowedtypes-and-disallowedtypes',\n  to: 'disallowedElements'\n}, {\n  from: 'escapeHtml',\n  id: 'remove-buggy-html-in-markdown-parser'\n}, {\n  from: 'includeElementIndex',\n  id: '#remove-includeelementindex'\n}, {\n  from: 'includeNodeIndex',\n  id: 'change-includenodeindex-to-includeelementindex'\n}, {\n  from: 'linkTarget',\n  id: 'remove-linktarget'\n}, {\n  from: 'plugins',\n  id: 'change-plugins-to-remarkplugins',\n  to: 'remarkPlugins'\n}, {\n  from: 'rawSourcePos',\n  id: '#remove-rawsourcepos'\n}, {\n  from: 'renderers',\n  id: 'change-renderers-to-components',\n  to: 'components'\n}, {\n  from: 'source',\n  id: 'change-source-to-children',\n  to: 'children'\n}, {\n  from: 'sourcePos',\n  id: '#remove-sourcepos'\n}, {\n  from: 'transformImageUri',\n  id: '#add-urltransform',\n  to: 'urlTransform'\n}, {\n  from: 'transformLinkUri',\n  id: '#add-urltransform',\n  to: 'urlTransform'\n}];\n\n/**\r\n * Component to render markdown.\r\n *\r\n * This is a synchronous component.\r\n * When using async plugins,\r\n * see {@linkcode MarkdownAsync} or {@linkcode MarkdownHooks}.\r\n *\r\n * @param {Readonly<Options>} options\r\n *   Props.\r\n * @returns {ReactElement}\r\n *   React element.\r\n */\nexport function Markdown(options) {\n  const processor = createProcessor(options);\n  const file = createFile(options);\n  return post(processor.runSync(processor.parse(file), file), options);\n}\n\n/**\r\n * Component to render markdown with support for async plugins\r\n * through async/await.\r\n *\r\n * Components returning promises are supported on the server.\r\n * For async support on the client,\r\n * see {@linkcode MarkdownHooks}.\r\n *\r\n * @param {Readonly<Options>} options\r\n *   Props.\r\n * @returns {Promise<ReactElement>}\r\n *   Promise to a React element.\r\n */\nexport async function MarkdownAsync(options) {\n  const processor = createProcessor(options);\n  const file = createFile(options);\n  const tree = await processor.run(processor.parse(file), file);\n  return post(tree, options);\n}\n\n/**\r\n * Component to render markdown with support for async plugins through hooks.\r\n *\r\n * This uses `useEffect` and `useState` hooks.\r\n * Hooks run on the client and do not immediately render something.\r\n * For async support on the server,\r\n * see {@linkcode MarkdownAsync}.\r\n *\r\n * @param {Readonly<HooksOptions>} options\r\n *   Props.\r\n * @returns {ReactNode}\r\n *   React node.\r\n */\nexport function MarkdownHooks(options) {\n  const processor = createProcessor(options);\n  const [error, setError] = useState(/** @type {Error | undefined} */undefined);\n  const [tree, setTree] = useState(/** @type {Root | undefined} */undefined);\n  useEffect(function () {\n    let cancelled = false;\n    const file = createFile(options);\n    processor.run(processor.parse(file), file, function (error, tree) {\n      if (!cancelled) {\n        setError(error);\n        setTree(tree);\n      }\n    });\n\n    /**\r\n     * @returns {undefined}\r\n     *   Nothing.\r\n     */\n    return function () {\n      cancelled = true;\n    };\n  }, [options.children, options.rehypePlugins, options.remarkPlugins, options.remarkRehypeOptions]);\n  if (error) throw error;\n  return tree ? post(tree, options) : options.fallback;\n}\n\n/**\r\n * Set up the `unified` processor.\r\n *\r\n * @param {Readonly<Options>} options\r\n *   Props.\r\n * @returns {Processor<MdastRoot, MdastRoot, Root, undefined, undefined>}\r\n *   Result.\r\n */\nfunction createProcessor(options) {\n  const rehypePlugins = options.rehypePlugins || emptyPlugins;\n  const remarkPlugins = options.remarkPlugins || emptyPlugins;\n  const remarkRehypeOptions = options.remarkRehypeOptions ? {\n    ...options.remarkRehypeOptions,\n    ...emptyRemarkRehypeOptions\n  } : emptyRemarkRehypeOptions;\n  const processor = unified().use(remarkParse).use(remarkPlugins).use(remarkRehype, remarkRehypeOptions).use(rehypePlugins);\n  return processor;\n}\n\n/**\r\n * Set up the virtual file.\r\n *\r\n * @param {Readonly<Options>} options\r\n *   Props.\r\n * @returns {VFile}\r\n *   Result.\r\n */\nfunction createFile(options) {\n  const children = options.children || '';\n  const file = new VFile();\n  if (typeof children === 'string') {\n    file.value = children;\n  } else {\n    unreachable('Unexpected value `' + children + '` for `children` prop, expected `string`');\n  }\n  return file;\n}\n\n/**\r\n * Process the result from unified some more.\r\n *\r\n * @param {Nodes} tree\r\n *   Tree.\r\n * @param {Readonly<Options>} options\r\n *   Props.\r\n * @returns {ReactElement}\r\n *   React element.\r\n */\nfunction post(tree, options) {\n  const allowedElements = options.allowedElements;\n  const allowElement = options.allowElement;\n  const components = options.components;\n  const disallowedElements = options.disallowedElements;\n  const skipHtml = options.skipHtml;\n  const unwrapDisallowed = options.unwrapDisallowed;\n  const urlTransform = options.urlTransform || defaultUrlTransform;\n  for (const deprecation of deprecations) {\n    if (Object.hasOwn(options, deprecation.from)) {\n      unreachable('Unexpected `' + deprecation.from + '` prop, ' + (deprecation.to ? 'use `' + deprecation.to + '` instead' : 'remove it') + ' (see <' + changelog + '#' + deprecation.id + '> for more info)');\n    }\n  }\n  if (allowedElements && disallowedElements) {\n    unreachable('Unexpected combined `allowedElements` and `disallowedElements`, expected one or the other');\n  }\n  visit(tree, transform);\n  return toJsxRuntime(tree, {\n    Fragment,\n    components,\n    ignoreInvalidStyle: true,\n    jsx,\n    jsxs,\n    passKeys: true,\n    passNode: true\n  });\n\n  /** @type {BuildVisitor<Root>} */\n  function transform(node, index, parent) {\n    if (node.type === 'raw' && parent && typeof index === 'number') {\n      if (skipHtml) {\n        parent.children.splice(index, 1);\n      } else {\n        parent.children[index] = {\n          type: 'text',\n          value: node.value\n        };\n      }\n      return index;\n    }\n    if (node.type === 'element') {\n      /** @type {string} */\n      let key;\n      for (key in urlAttributes) {\n        if (Object.hasOwn(urlAttributes, key) && Object.hasOwn(node.properties, key)) {\n          const value = node.properties[key];\n          const test = urlAttributes[key];\n          if (test === null || test.includes(node.tagName)) {\n            node.properties[key] = urlTransform(String(value || ''), key, node);\n          }\n        }\n      }\n    }\n    if (node.type === 'element') {\n      let remove = allowedElements ? !allowedElements.includes(node.tagName) : disallowedElements ? disallowedElements.includes(node.tagName) : false;\n      if (!remove && allowElement && typeof index === 'number') {\n        remove = !allowElement(node, index, parent);\n      }\n      if (remove && parent && typeof index === 'number') {\n        if (unwrapDisallowed && node.children) {\n          parent.children.splice(index, 1, ...node.children);\n        } else {\n          parent.children.splice(index, 1);\n        }\n        return index;\n      }\n    }\n  }\n}\n\n/**\r\n * Make a URL safe.\r\n *\r\n * @satisfies {UrlTransform}\r\n * @param {string} value\r\n *   URL.\r\n * @returns {string}\r\n *   Safe URL.\r\n */\nexport function defaultUrlTransform(value) {\n  // Same as:\n  // <https://github.com/micromark/micromark/blob/929275e/packages/micromark-util-sanitize-uri/dev/index.js#L34>\n  // But without the `encode` part.\n  const colon = value.indexOf(':');\n  const questionMark = value.indexOf('?');\n  const numberSign = value.indexOf('#');\n  const slash = value.indexOf('/');\n  if (\n  // If there is no protocol, it’s relative.\n  colon === -1 ||\n  // If the first colon is after a `?`, `#`, or `/`, it’s not a protocol.\n  slash !== -1 && colon > slash || questionMark !== -1 && colon > questionMark || numberSign !== -1 && colon > numberSign ||\n  // It is a protocol, it should be allowed.\n  safeProtocol.test(value.slice(0, colon))) {\n    return value;\n  }\n  return '';\n}","map":{"version":3,"names":["unreachable","toJsxRuntime","urlAttributes","Fragment","jsx","jsxs","useEffect","useState","remarkParse","remarkRehype","unified","visit","VFile","changelog","emptyPlugins","emptyRemarkRehypeOptions","allowDangerousHtml","safeProtocol","deprecations","from","id","to","Markdown","options","processor","createProcessor","file","createFile","post","runSync","parse","MarkdownAsync","tree","run","MarkdownHooks","error","setError","undefined","setTree","cancelled","children","rehypePlugins","remarkPlugins","remarkRehypeOptions","fallback","use","value","allowedElements","allowElement","components","disallowedElements","skipHtml","unwrapDisallowed","urlTransform","defaultUrlTransform","deprecation","Object","hasOwn","transform","ignoreInvalidStyle","passKeys","passNode","node","index","parent","type","splice","key","properties","test","includes","tagName","String","remove","colon","indexOf","questionMark","numberSign","slash","slice"],"sources":["C:/Users/smart/Downloads/Final Project P20119/makeathon-2025/makeathon/node_modules/react-markdown/lib/index.js"],"sourcesContent":["/**\r\n * @import {Element, Nodes, Parents, Root} from 'hast'\r\n * @import {Root as MdastRoot} from 'mdast'\r\n * @import {ComponentType, JSX, ReactElement, ReactNode} from 'react'\r\n * @import {Options as RemarkRehypeOptions} from 'remark-rehype'\r\n * @import {BuildVisitor} from 'unist-util-visit'\r\n * @import {PluggableList, Processor} from 'unified'\r\n */\r\n\r\n/**\r\n * @callback AllowElement\r\n *   Filter elements.\r\n * @param {Readonly<Element>} element\r\n *   Element to check.\r\n * @param {number} index\r\n *   Index of `element` in `parent`.\r\n * @param {Readonly<Parents> | undefined} parent\r\n *   Parent of `element`.\r\n * @returns {boolean | null | undefined}\r\n *   Whether to allow `element` (default: `false`).\r\n */\r\n\r\n/**\r\n * @typedef ExtraProps\r\n *   Extra fields we pass.\r\n * @property {Element | undefined} [node]\r\n *   passed when `passNode` is on.\r\n */\r\n\r\n/**\r\n * @typedef {{\r\n *   [Key in keyof JSX.IntrinsicElements]?: ComponentType<JSX.IntrinsicElements[Key] & ExtraProps> | keyof JSX.IntrinsicElements\r\n * }} Components\r\n *   Map tag names to components.\r\n */\r\n\r\n/**\r\n * @typedef Deprecation\r\n *   Deprecation.\r\n * @property {string} from\r\n *   Old field.\r\n * @property {string} id\r\n *   ID in readme.\r\n * @property {keyof Options} [to]\r\n *   New field.\r\n */\r\n\r\n/**\r\n * @typedef Options\r\n *   Configuration.\r\n * @property {AllowElement | null | undefined} [allowElement]\r\n *   Filter elements (optional);\r\n *   `allowedElements` / `disallowedElements` is used first.\r\n * @property {ReadonlyArray<string> | null | undefined} [allowedElements]\r\n *   Tag names to allow (default: all tag names);\r\n *   cannot combine w/ `disallowedElements`.\r\n * @property {string | null | undefined} [children]\r\n *   Markdown.\r\n * @property {Components | null | undefined} [components]\r\n *   Map tag names to components.\r\n * @property {ReadonlyArray<string> | null | undefined} [disallowedElements]\r\n *   Tag names to disallow (default: `[]`);\r\n *   cannot combine w/ `allowedElements`.\r\n * @property {PluggableList | null | undefined} [rehypePlugins]\r\n *   List of rehype plugins to use.\r\n * @property {PluggableList | null | undefined} [remarkPlugins]\r\n *   List of remark plugins to use.\r\n * @property {Readonly<RemarkRehypeOptions> | null | undefined} [remarkRehypeOptions]\r\n *   Options to pass through to `remark-rehype`.\r\n * @property {boolean | null | undefined} [skipHtml=false]\r\n *   Ignore HTML in markdown completely (default: `false`).\r\n * @property {boolean | null | undefined} [unwrapDisallowed=false]\r\n *   Extract (unwrap) what’s in disallowed elements (default: `false`);\r\n *   normally when say `strong` is not allowed, it and it’s children are dropped,\r\n *   with `unwrapDisallowed` the element itself is replaced by its children.\r\n * @property {UrlTransform | null | undefined} [urlTransform]\r\n *   Change URLs (default: `defaultUrlTransform`)\r\n */\r\n\r\n/**\r\n * @typedef HooksOptionsOnly\r\n *   Configuration specifically for {@linkcode MarkdownHooks}.\r\n * @property {ReactNode | null | undefined} [fallback]\r\n *   Content to render while the processor processing the markdown (optional).\r\n */\r\n\r\n/**\r\n * @typedef {Options & HooksOptionsOnly} HooksOptions\r\n *   Configuration for {@linkcode MarkdownHooks};\r\n *   extends the regular {@linkcode Options} with a `fallback` prop.\r\n */\r\n\r\n/**\r\n * @callback UrlTransform\r\n *   Transform all URLs.\r\n * @param {string} url\r\n *   URL.\r\n * @param {string} key\r\n *   Property name (example: `'href'`).\r\n * @param {Readonly<Element>} node\r\n *   Node.\r\n * @returns {string | null | undefined}\r\n *   Transformed URL (optional).\r\n */\r\n\r\nimport {unreachable} from 'devlop'\r\nimport {toJsxRuntime} from 'hast-util-to-jsx-runtime'\r\nimport {urlAttributes} from 'html-url-attributes'\r\nimport {Fragment, jsx, jsxs} from 'react/jsx-runtime'\r\nimport {useEffect, useState} from 'react'\r\nimport remarkParse from 'remark-parse'\r\nimport remarkRehype from 'remark-rehype'\r\nimport {unified} from 'unified'\r\nimport {visit} from 'unist-util-visit'\r\nimport {VFile} from 'vfile'\r\n\r\nconst changelog =\r\n  'https://github.com/remarkjs/react-markdown/blob/main/changelog.md'\r\n\r\n/** @type {PluggableList} */\r\nconst emptyPlugins = []\r\n/** @type {Readonly<RemarkRehypeOptions>} */\r\nconst emptyRemarkRehypeOptions = {allowDangerousHtml: true}\r\nconst safeProtocol = /^(https?|ircs?|mailto|xmpp)$/i\r\n\r\n// Mutable because we `delete` any time it’s used and a message is sent.\r\n/** @type {ReadonlyArray<Readonly<Deprecation>>} */\r\nconst deprecations = [\r\n  {from: 'astPlugins', id: 'remove-buggy-html-in-markdown-parser'},\r\n  {from: 'allowDangerousHtml', id: 'remove-buggy-html-in-markdown-parser'},\r\n  {\r\n    from: 'allowNode',\r\n    id: 'replace-allownode-allowedtypes-and-disallowedtypes',\r\n    to: 'allowElement'\r\n  },\r\n  {\r\n    from: 'allowedTypes',\r\n    id: 'replace-allownode-allowedtypes-and-disallowedtypes',\r\n    to: 'allowedElements'\r\n  },\r\n  {from: 'className', id: 'remove-classname'},\r\n  {\r\n    from: 'disallowedTypes',\r\n    id: 'replace-allownode-allowedtypes-and-disallowedtypes',\r\n    to: 'disallowedElements'\r\n  },\r\n  {from: 'escapeHtml', id: 'remove-buggy-html-in-markdown-parser'},\r\n  {from: 'includeElementIndex', id: '#remove-includeelementindex'},\r\n  {\r\n    from: 'includeNodeIndex',\r\n    id: 'change-includenodeindex-to-includeelementindex'\r\n  },\r\n  {from: 'linkTarget', id: 'remove-linktarget'},\r\n  {from: 'plugins', id: 'change-plugins-to-remarkplugins', to: 'remarkPlugins'},\r\n  {from: 'rawSourcePos', id: '#remove-rawsourcepos'},\r\n  {from: 'renderers', id: 'change-renderers-to-components', to: 'components'},\r\n  {from: 'source', id: 'change-source-to-children', to: 'children'},\r\n  {from: 'sourcePos', id: '#remove-sourcepos'},\r\n  {from: 'transformImageUri', id: '#add-urltransform', to: 'urlTransform'},\r\n  {from: 'transformLinkUri', id: '#add-urltransform', to: 'urlTransform'}\r\n]\r\n\r\n/**\r\n * Component to render markdown.\r\n *\r\n * This is a synchronous component.\r\n * When using async plugins,\r\n * see {@linkcode MarkdownAsync} or {@linkcode MarkdownHooks}.\r\n *\r\n * @param {Readonly<Options>} options\r\n *   Props.\r\n * @returns {ReactElement}\r\n *   React element.\r\n */\r\nexport function Markdown(options) {\r\n  const processor = createProcessor(options)\r\n  const file = createFile(options)\r\n  return post(processor.runSync(processor.parse(file), file), options)\r\n}\r\n\r\n/**\r\n * Component to render markdown with support for async plugins\r\n * through async/await.\r\n *\r\n * Components returning promises are supported on the server.\r\n * For async support on the client,\r\n * see {@linkcode MarkdownHooks}.\r\n *\r\n * @param {Readonly<Options>} options\r\n *   Props.\r\n * @returns {Promise<ReactElement>}\r\n *   Promise to a React element.\r\n */\r\nexport async function MarkdownAsync(options) {\r\n  const processor = createProcessor(options)\r\n  const file = createFile(options)\r\n  const tree = await processor.run(processor.parse(file), file)\r\n  return post(tree, options)\r\n}\r\n\r\n/**\r\n * Component to render markdown with support for async plugins through hooks.\r\n *\r\n * This uses `useEffect` and `useState` hooks.\r\n * Hooks run on the client and do not immediately render something.\r\n * For async support on the server,\r\n * see {@linkcode MarkdownAsync}.\r\n *\r\n * @param {Readonly<HooksOptions>} options\r\n *   Props.\r\n * @returns {ReactNode}\r\n *   React node.\r\n */\r\nexport function MarkdownHooks(options) {\r\n  const processor = createProcessor(options)\r\n  const [error, setError] = useState(\r\n    /** @type {Error | undefined} */ (undefined)\r\n  )\r\n  const [tree, setTree] = useState(/** @type {Root | undefined} */ (undefined))\r\n\r\n  useEffect(\r\n    function () {\r\n      let cancelled = false\r\n      const file = createFile(options)\r\n\r\n      processor.run(processor.parse(file), file, function (error, tree) {\r\n        if (!cancelled) {\r\n          setError(error)\r\n          setTree(tree)\r\n        }\r\n      })\r\n\r\n      /**\r\n       * @returns {undefined}\r\n       *   Nothing.\r\n       */\r\n      return function () {\r\n        cancelled = true\r\n      }\r\n    },\r\n    [\r\n      options.children,\r\n      options.rehypePlugins,\r\n      options.remarkPlugins,\r\n      options.remarkRehypeOptions\r\n    ]\r\n  )\r\n\r\n  if (error) throw error\r\n\r\n  return tree ? post(tree, options) : options.fallback\r\n}\r\n\r\n/**\r\n * Set up the `unified` processor.\r\n *\r\n * @param {Readonly<Options>} options\r\n *   Props.\r\n * @returns {Processor<MdastRoot, MdastRoot, Root, undefined, undefined>}\r\n *   Result.\r\n */\r\nfunction createProcessor(options) {\r\n  const rehypePlugins = options.rehypePlugins || emptyPlugins\r\n  const remarkPlugins = options.remarkPlugins || emptyPlugins\r\n  const remarkRehypeOptions = options.remarkRehypeOptions\r\n    ? {...options.remarkRehypeOptions, ...emptyRemarkRehypeOptions}\r\n    : emptyRemarkRehypeOptions\r\n\r\n  const processor = unified()\r\n    .use(remarkParse)\r\n    .use(remarkPlugins)\r\n    .use(remarkRehype, remarkRehypeOptions)\r\n    .use(rehypePlugins)\r\n\r\n  return processor\r\n}\r\n\r\n/**\r\n * Set up the virtual file.\r\n *\r\n * @param {Readonly<Options>} options\r\n *   Props.\r\n * @returns {VFile}\r\n *   Result.\r\n */\r\nfunction createFile(options) {\r\n  const children = options.children || ''\r\n  const file = new VFile()\r\n\r\n  if (typeof children === 'string') {\r\n    file.value = children\r\n  } else {\r\n    unreachable(\r\n      'Unexpected value `' +\r\n        children +\r\n        '` for `children` prop, expected `string`'\r\n    )\r\n  }\r\n\r\n  return file\r\n}\r\n\r\n/**\r\n * Process the result from unified some more.\r\n *\r\n * @param {Nodes} tree\r\n *   Tree.\r\n * @param {Readonly<Options>} options\r\n *   Props.\r\n * @returns {ReactElement}\r\n *   React element.\r\n */\r\nfunction post(tree, options) {\r\n  const allowedElements = options.allowedElements\r\n  const allowElement = options.allowElement\r\n  const components = options.components\r\n  const disallowedElements = options.disallowedElements\r\n  const skipHtml = options.skipHtml\r\n  const unwrapDisallowed = options.unwrapDisallowed\r\n  const urlTransform = options.urlTransform || defaultUrlTransform\r\n\r\n  for (const deprecation of deprecations) {\r\n    if (Object.hasOwn(options, deprecation.from)) {\r\n      unreachable(\r\n        'Unexpected `' +\r\n          deprecation.from +\r\n          '` prop, ' +\r\n          (deprecation.to\r\n            ? 'use `' + deprecation.to + '` instead'\r\n            : 'remove it') +\r\n          ' (see <' +\r\n          changelog +\r\n          '#' +\r\n          deprecation.id +\r\n          '> for more info)'\r\n      )\r\n    }\r\n  }\r\n\r\n  if (allowedElements && disallowedElements) {\r\n    unreachable(\r\n      'Unexpected combined `allowedElements` and `disallowedElements`, expected one or the other'\r\n    )\r\n  }\r\n\r\n  visit(tree, transform)\r\n\r\n  return toJsxRuntime(tree, {\r\n    Fragment,\r\n    components,\r\n    ignoreInvalidStyle: true,\r\n    jsx,\r\n    jsxs,\r\n    passKeys: true,\r\n    passNode: true\r\n  })\r\n\r\n  /** @type {BuildVisitor<Root>} */\r\n  function transform(node, index, parent) {\r\n    if (node.type === 'raw' && parent && typeof index === 'number') {\r\n      if (skipHtml) {\r\n        parent.children.splice(index, 1)\r\n      } else {\r\n        parent.children[index] = {type: 'text', value: node.value}\r\n      }\r\n\r\n      return index\r\n    }\r\n\r\n    if (node.type === 'element') {\r\n      /** @type {string} */\r\n      let key\r\n\r\n      for (key in urlAttributes) {\r\n        if (\r\n          Object.hasOwn(urlAttributes, key) &&\r\n          Object.hasOwn(node.properties, key)\r\n        ) {\r\n          const value = node.properties[key]\r\n          const test = urlAttributes[key]\r\n          if (test === null || test.includes(node.tagName)) {\r\n            node.properties[key] = urlTransform(String(value || ''), key, node)\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\n    if (node.type === 'element') {\r\n      let remove = allowedElements\r\n        ? !allowedElements.includes(node.tagName)\r\n        : disallowedElements\r\n          ? disallowedElements.includes(node.tagName)\r\n          : false\r\n\r\n      if (!remove && allowElement && typeof index === 'number') {\r\n        remove = !allowElement(node, index, parent)\r\n      }\r\n\r\n      if (remove && parent && typeof index === 'number') {\r\n        if (unwrapDisallowed && node.children) {\r\n          parent.children.splice(index, 1, ...node.children)\r\n        } else {\r\n          parent.children.splice(index, 1)\r\n        }\r\n\r\n        return index\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\n/**\r\n * Make a URL safe.\r\n *\r\n * @satisfies {UrlTransform}\r\n * @param {string} value\r\n *   URL.\r\n * @returns {string}\r\n *   Safe URL.\r\n */\r\nexport function defaultUrlTransform(value) {\r\n  // Same as:\r\n  // <https://github.com/micromark/micromark/blob/929275e/packages/micromark-util-sanitize-uri/dev/index.js#L34>\r\n  // But without the `encode` part.\r\n  const colon = value.indexOf(':')\r\n  const questionMark = value.indexOf('?')\r\n  const numberSign = value.indexOf('#')\r\n  const slash = value.indexOf('/')\r\n\r\n  if (\r\n    // If there is no protocol, it’s relative.\r\n    colon === -1 ||\r\n    // If the first colon is after a `?`, `#`, or `/`, it’s not a protocol.\r\n    (slash !== -1 && colon > slash) ||\r\n    (questionMark !== -1 && colon > questionMark) ||\r\n    (numberSign !== -1 && colon > numberSign) ||\r\n    // It is a protocol, it should be allowed.\r\n    safeProtocol.test(value.slice(0, colon))\r\n  ) {\r\n    return value\r\n  }\r\n\r\n  return ''\r\n}\r\n"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,SAAQA,WAAW,QAAO,QAAQ;AAClC,SAAQC,YAAY,QAAO,0BAA0B;AACrD,SAAQC,aAAa,QAAO,qBAAqB;AACjD,SAAQC,QAAQ,EAAEC,GAAG,EAAEC,IAAI,QAAO,mBAAmB;AACrD,SAAQC,SAAS,EAAEC,QAAQ,QAAO,OAAO;AACzC,OAAOC,WAAW,MAAM,cAAc;AACtC,OAAOC,YAAY,MAAM,eAAe;AACxC,SAAQC,OAAO,QAAO,SAAS;AAC/B,SAAQC,KAAK,QAAO,kBAAkB;AACtC,SAAQC,KAAK,QAAO,OAAO;AAE3B,MAAMC,SAAS,GACb,mEAAmE;;AAErE;AACA,MAAMC,YAAY,GAAG,EAAE;AACvB;AACA,MAAMC,wBAAwB,GAAG;EAACC,kBAAkB,EAAE;AAAI,CAAC;AAC3D,MAAMC,YAAY,GAAG,+BAA+B;;AAEpD;AACA;AACA,MAAMC,YAAY,GAAG,CACnB;EAACC,IAAI,EAAE,YAAY;EAAEC,EAAE,EAAE;AAAsC,CAAC,EAChE;EAACD,IAAI,EAAE,oBAAoB;EAAEC,EAAE,EAAE;AAAsC,CAAC,EACxE;EACED,IAAI,EAAE,WAAW;EACjBC,EAAE,EAAE,oDAAoD;EACxDC,EAAE,EAAE;AACN,CAAC,EACD;EACEF,IAAI,EAAE,cAAc;EACpBC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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}